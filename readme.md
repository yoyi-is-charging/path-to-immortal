# 修仙之路账户管理器

## 简介

本项目是一个用于管理修仙之路游戏账户的工具。每个已登录账户将使用无头浏览器进行频道网页的访问和命令输入，并会自动保存账户状态和重新登录。

## 安装教程

1. 前往 [Node.js 官网](https://nodejs.org/en/download/)下载并安装 Node.js。
1. 前往 [GitHub Releases](https://github.com/yoyi-is-charging/path-to-immortal/releases)下载最新版本的压缩包并解压。
1. 右键使用 powershell 运行`install.ps1`，按照提示安装依赖和浏览器，并输入修仙之路所在的子频道链接。

## 使用教程

1. 右键使用 powershell 运行`start.ps1`，启动管理器。
1. 点击命令行中的链接，或在浏览器中输入 `http://localhost:3000`，进入管理面板。

### 添加账户

点击右下角的 `+` 按钮，输入账户信息。

注：本管理器提供了三种登录方式
- **快速登录**：适用电脑已登录qq的情况。
- **密码登录**：适用登录网页版频道时无需输入验证码的情况。
- **扫码登录**：适用其它情况。

其中后两种登录方式仅需提供账号。前两种情况由于无需扫码，可以定期更新会话信息。也可以在登录后手动更新会话信息。

### 设置自动设置

在账户列表中点击`设置`按钮，选择自动运行选项。

所有子项设置默认禁用，请确保在子项中设置完毕后再登录账户。

### 设置账户状态（可选）

在账户列表中点击`状态`按钮，选择账户状态。

注：修改选项一般是为了在初次登录时提供当天已完成的命令情况，防止发送不符合状态的命令，如在2次进入鱼塘后再次发送`进入鱼塘`命令。
在初次登录后，后端将自动管理账户状态，因此一般不必修改。此时可以用来观察程序是否正常运行。
如无法判断目前的状态，可以等待 00:00 后再登录账户。

### 登录账户

在账户列表中点击`登录`按钮，选择登录方式。

此时会依次判断三种登录方式，然后**立即**根据设置和账户状态执行命令。

### 更新会话

在账户列表中点击`更新会话`按钮，手动更新会话信息。

每次登录后会话信息会持续48小时左右。在会话结束的12小时前会自动重新登录以更新会话信息。若更新失败，你需要点击此按钮手动更新会话信息。

## 问题报告

如果在使用过程中遇到问题，可向开发者反馈。典型问题包括：
1. 命令无限执行
2. 命令意外中断
3. 未按时执行命令

遇到以上问题或其它问题，请在反馈时尽量提供详细的错误信息和重现步骤。